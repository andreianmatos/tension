<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta -->
        <title>TENSION p5</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Styles -->
        <link rel="stylesheet" href="style.css">
        <!-- JS -->
        <script src="p5/p5.js"></script>
        <script src="p5/p5.sound.js"></script> 
    </head>
   
    <body>  
            
        <div class="about" >

            <p class="title"> Welcome!</p> 

            <p>  </p>


            <p> explanations + consent ? Every time you finish a test and click on "Next test!" another will be randomly chosen. At the end, you will be able to manually select any test and update your answers if you want to. </p>
        
            <p>Make sure that you set your audio to a volume that is comfortable to all the sounds in the first sound test and make sure to keep it the same throughout the remaing tests. </p>

            <div id = "radiosLeft">
                <div class="radio-item firstOption" id="a">
                  <input type="radio" id="ritema" name="radioLeft" value="1.1" >
                  <label for="ritema">1</label>
                </div>
          
                <div class="radio-item secondOption" id="b">
                    <input type="radio" id="ritemb" name="radioLeft" value="1.2">
                    <label for="ritemb">2</label>
                </div>
          
                <div class="radio-item thirdOption" id="c" >
                  <input type="radio" id="ritemc" name="radioLeft" value="1.3">
                  <label for="ritemc">NONE</label>
                </div>
          
            </div>

            <div class="sliderWrapper" >
                <label class="switch">
                    <input type="checkbox" >
                    <span class="slider"  onclick="show('startButton')"> </span>
                </label>
                
                <div> &nbsp;&nbsp; I agree to the conditions of the experiment.</div>
            </div>

            <p id="startButton" style="display:none;"> <a type="button" class="custombutton" class="hide" href="tension.html">Start!</a></p>
                                    
        </div>

    </body>
<script>

    function show(item){
    if(document.getElementById(item).style.display == "none"){
        document.getElementById(item).style.display = "block";
    }
    else{
        document.getElementById(item).style.display = "none";
    }
    }  

    var osc;    
    let radiosLeft_value;

    function setup(){
       var audioCtx = new AudioContext();

       osc = new p5.Oscillator();
       osc.start();

       var radiosLeft = document.getElementsByName('radioLeft');
       radiosLeft[2].checked = true;
    }

    function draw(){
        /* sound */

        for(var i = 0; i < radiosLeft.length; i++){
            radiosLeft_value = radiosLeft[i].value;
        }

        if(radiosLeft_value != null){

            if(radiosLeft_value == "1.1")
                osc.setType('sine');
            else if(radiosLeft_value == "1.2")
                osc.setType('sawtooth');
            else if(radiosLeft_value == "1.3")
                osc.stop();

            osc.amp(1);
            osc.freq(60);
        }
    }
</script>
</html>
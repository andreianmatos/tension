<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TENSION</title>
  <style>
    body {
      padding: 0;
      margin: 0;
    }
  </style>
  <script src="p5/p5.js"></script>
  <script src="p5/p5.sound.js"></script> 
  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
  <!--<link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />-->
  <!-- JS -->
  <!-- P5 -->
  <script type="text/javascript" src="sketch.js"></script>
  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <!-- JSPSYCH 
  <script src="jspsych/jspsych.js"></script>
  <script src="jspsych/plugin-html-keyboard-response.js"></script>-->

<body> 
  <main>

    <div id="alignCenter">
      <div id="testButtons">
          <!-- add disabled="true" -->
        <button class="custombutton2" id="definitions" onclick="definitionOpen(); show('definitionPopUp');">?</button> 
        <button disabled="true" class="custombutton2" id="test1Bol" style="background-color: #f0d696;" onclick="next('test1Bol');">01</button> 
        <button disabled="true" class="custombutton2" id="test2Bol" style="background-color: #f0d696;" onclick="next('test2Bol');">02</button>
        <button disabled="true" class="custombutton2" id="test3Bol" style="background-color: #f0d696;" onclick="next('test3Bol');">03</button>
        <button disabled="true" class="custombutton2" id="test4Bol" style="background-color: #f0d696;" onclick="next('test4Bol');">04</button>
        <button disabled="true" class="custombutton2" id="test5Bol" style="background-color: #f0d696;" onclick="next('test5Bol');">05</button>
        <button disabled="true" class="custombutton2" id="test6Bol" style="background-color: #f0d696;" onclick="next('test6Bol');">06</button>
        <button disabled="true" class="custombutton2" id="test7Bol" style="background-color: #f0d696;" onclick="next('test7Bol');">07</button>
        <button disabled="true" class="custombutton2" id="test8Bol" style="background-color: #f0d696;" onclick="next('test8Bol');">08</button>
        <button disabled="true" class="custombutton2" id="test9Bol" style="background-color: #f0d696;" onclick="next('test9Bol');">09</button>
        <button disabled="true" class="custombutton2" id="test10Bol" style="background-color: #f0d696;" onclick="next('test10Bol');">10</button>
        <button disabled="true" class="custombutton2" id="test11Bol" style="background-color: #9bc2b1;" onclick="next('test11Bol');">11</button>
        <button disabled="true" class="custombutton2" id="test12Bol" style="background-color: #9bc2b1;" onclick="next('test12Bol');">12</button>
        <button disabled="true" class="custombutton2" id="test13Bol" style="background-color: #9bc2b1;" onclick="next('test13Bol');">13</button>
        <button disabled="true" class="custombutton2" id="test14Bol" style="background-color: #9bc2b1;" onclick="next('test14Bol');">14</button>
        <button disabled="true" class="custombutton2" id="test15Bol" style="background-color: #9bc2b1;" onclick="next('test15Bol');">15</button>
        <button disabled="true" class="custombutton2" id="test16Bol" style="background-color: #9bc2b1;" onclick="next('test16Bol');">16</button>
        <button disabled="true" class="custombutton2" id="test17Bol" style="background-color: #9bc2b1;" onclick="next('test17Bol');">17</button>
        <button disabled="true" class="custombutton2" id="test18Bol" style="background-color: #9bc2b1;" onclick="next('test18Bol');">18</button>
        <button disabled="true" class="custombutton2" id="test19Bol" style="background-color: #9bc2b1;" onclick="next('test19Bol');">19</button>
        <button disabled="true" class="custombutton2" id="test20Bol" style="background-color: #9bc2b1;" onclick="next('test20Bol');">20</button>        
        <button disabled="true" class="custombutton2" id="test21Bol" style="background-color: rgb(196,174,173);" onclick="next('test21Bol');">*</button>
        <button disabled="true" class="custombutton2" id="test22Bol" style="background-color: rgb(196,174,173);" onclick="next('test22Bol');">*</button>
        <button disabled="true" class="custombutton2" id="submit" onclick="submit();">SUBMIT</button>
      </div> 
    </div>

    <div id="definitionPopUp" style="display: none;">
      Click back on the <b>?</b> button to unsee.
      <p class="red"><b>DEFINITIONS</b></p>
      <p><b>AROUSAL: </b>A state of excitement or energy spent on an emotion. Related to the intensity of the stimulus.</p>
      <p><b>VALENCE: </b>The inate attractiveness (positive valence) or averseness (negative valence) of the stimulus.</p>

      <p><b>TENSION: </b>The emotional state which relates to conflict, instability or uncertainty; that creates a desire for resolution; that increases as does expectaction, anticipation, 
          which consequently holds an important place in the creation and management of dynamics in artistic practices.</p>
          
      <p>In this test, you must consider felt tension when answering, as opposed to perceived tension.</p>
      <p><b>FELT TENSION: </b>Your own subjective emotional experience.</p>
      <p><b>PERCEIVED TENSION: </b>The tension you assume the stimulus is supposed to express. </p>
      <p class="red"><b>INSTRUCTIONS</b></p>

      <P>Each test will present to you one image or one sound repeated twice, that is, the left and right image/sound are the same. The sound test includes a button which functions like a piano key, you hover (not click!) the mouse on it to begin the sound and it will play as long as your mouse is over the button, it will stop once you remove the mouse from over it. </P>
      <P>You will have to use the given sliders to manipulate the image/sound on the left to be the most tense possible and on the right to be the least tense possible. Underneath each there is a questionnaire regarding your reaction to it, namely the tension you felt. There is also a grid in which you must click on the cell that better suits your underlying emotional state when considering the image or sound.
      <P>Every time you finish a test, click on <em>Next test!</em> at the bottom of the page and another will be randomly chosen.
      At the end, you will be able to manually select any test by clicking on the test number and update your answers if you want to. If you do this, save your answers at the end of every test!</P>
    </div>


    <div id="sketch"></div>

     <!--<button class="soundButton" id="loopL" onclick="startOscillator();loopLeft();"><span style="font-size: 1vw;">Click to</span><br>LOOP</button>-->

     <!--<button class="soundButton" id="loopR" onclick="startOscillator(); loopRight();"><span style="font-size: 1vw;">Click to</span><br>LOOP</button>-->

    <button class="soundButton2" id="playL" onclick=""><span style="font-size: 1vw;">Hover to</span><br>PLAY</button>

    <button class="soundButton2" id="playR" onclick=""><span style="font-size: 1vw;">Hover to</span><br>PLAY</button>

    <div id="textSlider1">
      <h2>Tune the parameters to get the <span class="red">most</span> tense state.</h2>
    </div>

    <div id="slidecontainer1" class="slidecontainer1" style="display: none;">
      <input style="display: none;" type="range" min="-8" max="8" value="0" class="sliderCanvas" id="myRange1">
      <p><span id="demo1"></span></p>
    </div>

    <div id="slidecontainer1double" class="slidecontainer1" style="display: none;">
      <input style="display: none;" type="range" min="-8" max="8" value="0" class="sliderCanvas" id="myRange1double">
      <p><span id="demo1double"></span></p>
    </div>

    <div id = "radiosLeft">

      <div class="radio-item firstOption" id="a">
        <input type="radio" id="ritema" name="radioLeft" value="1.1">
        <label for="ritema">1</label>
      </div>

      <div class="radio-item secondOption" id="b">
          <input type="radio" id="ritemb" name="radioLeft" value="1.2">
          <label for="ritemb">2</label>
      </div>

      <div class="radio-item thirdOption" id="c" >
        <input type="radio" id="ritemc" name="radioLeft" value="1.3">
        <label for="ritemc">3</label>
      </div>

      <div class="radio-item fourthOption" id="d">
          <input type="radio" id="ritemd" name="radioLeft" value="1.4">
          <label for="ritemd">4</label>
      </div>
    
    </div>

    <div id="textSlider2">
      <h2>Tune the parameters to get the <span class="red">least</span> tense state.</h2>
    </div>

    <div id="slidecontainer2" class="slidecontainer2" style="display: none;">
      <input style="display: none;" type="range" min="-8" max="8" value="0" class="sliderCanvas" id="myRange2">
      <p><span id="demo2"></span></p>
    </div>    
    
    <div id="slidecontainer2double" class="slidecontainer2" style="display: none;">
      <input style="display: none;" type="range" min="-8" max="8" value="0" class="sliderCanvas" id="myRange2double">
      <p><span id="demo2double"></span></p>
    </div>

    <div id = "radiosRight">

      <div class="radio-item fifthOption" id="e">
        <input type="radio" id="riteme" name="radioRight" value="2.1">
        <label for="riteme">1</label>
      </div>

      <div class="radio-item sixthOption" id="f">
          <input type="radio" id="ritemf" name="radioRight" value="2.2">
          <label for="ritemf">2</label>
      </div> 

      <div class="radio-item seventhOption" id="g">
        <input type="radio" id="ritemg" name="radioRight" value="2.3">
        <label for="ritemg">3</label>
      </div>

      <div class="radio-item eighthOption" id="h">
          <input type="radio" id="ritemh" name="radioRight" value="2.4">
          <label for="ritemh">4</label>
      </div>

  </div>

    <div id="leftQuestionnaire">

      <span id="textQ2">
        <h2>&#8595; PLEASE SCROLL DOWN &#8595;</h2>
      </span>

      <div id="textQ3">
        <h2>From 1 to 10, how would you <span class="red">rate</span> it in terms of  <span class="red">tension</span>?</h2>
        <div>
          <p id="tensionValueLeft"></p>
          <hr noshade width="50" size="2.5" style="margin-top: -3vh;">
        </div>
        <span class="slidecontainer" id="tensionLeft">
          <input type="range" min="1" max="10" value="1" class="slider" id="myRangeTensionLeft">
        </span>
        <h2 style="color:gray; margin-left:-50vh; margin-top: 5vh;">Not Tense at All</h2>
        <h2 style="color:gray; margin-left: 50vh; margin-top: -4.5vh;">Extremely Tense</h2>
      </div>

      <div id="textQ4">
        <h2>In the grid below, place a <span class="red">cross</span> where it better represents <span class="red">the way it makes you feel</span>.</h2>
      </div>

    <div id="gridtags"> 
      <div id="textGridTop"><b>High Arousal</b></div>
      <div id="textGridBottom"><b>Sleepiness</b></div>
      <div id="textGridLeft"><b>Unpleasant<br>Feelings</b></div>
      <div id="textGridRight"><b>Pleasant<br>Feelings</b></div>
      <div id="textGridTopR"><b>Excitement</b></div>
      <div id="textGridTopL"><b>Stress</b></div>    
      <div id="textGridBottomR"><b>Relaxation</b></div>
      <div id="textGridBottomL"><b>Depression</b></div>
    </div>

      <div id="affectGrid">
        <input type="text" readonly class="gridCell" id="1" onclick="checkGrid('1');">
        <input type="text" readonly class="gridCell" id="2" onclick="checkGrid('2');">
        <input type="text" readonly class="gridCell" id="3" onclick="checkGrid('3');">
        <input type="text" readonly class="gridCell" id="4" onclick="checkGrid('4');">
        <input type="text" readonly class="gridCell" id="5" onclick="checkGrid('5');"><br>
        <input type="text" readonly class="gridCell" id="6" onclick="checkGrid('6');">
        <input type="text" readonly class="gridCell" id="7" onclick="checkGrid('7');">
        <input type="text" readonly class="gridCell" id="8" onclick="checkGrid('8');">
        <input type="text" readonly class="gridCell" id="9" onclick="checkGrid('9');">
        <input type="text" readonly class="gridCell" id="10" onclick="checkGrid('10');"><br>
        <input type="text" readonly class="gridCell" id="11" onclick="checkGrid('11');">
        <input type="text" readonly class="gridCell" id="12" onclick="checkGrid('12');">
        <input type="text" readonly class="gridCell" id="13" onclick="checkGrid('13');">
        <input type="text" readonly class="gridCell" id="14" onclick="checkGrid('14');">
        <input type="text" readonly class="gridCell" id="15" onclick="checkGrid('15');"><br>
        <input type="text" readonly class="gridCell" id="16" onclick="checkGrid('16');">
        <input type="text" readonly class="gridCell" id="17" onclick="checkGrid('17');">
        <input type="text" readonly class="gridCell" id="18" onclick="checkGrid('18');">
        <input type="text" readonly class="gridCell" id="19" onclick="checkGrid('19');">
        <input type="text" readonly class="gridCell" id="20" onclick="checkGrid('20');"><br>
        <input type="text" readonly class="gridCell" id="21" onclick="checkGrid('21');">
        <input type="text" readonly class="gridCell" id="22" onclick="checkGrid('22');">
        <input type="text" readonly class="gridCell" id="23" onclick="checkGrid('23');">
        <input type="text" readonly class="gridCell" id="24" onclick="checkGrid('24');">
        <input type="text" readonly class="gridCell" id="25" onclick="checkGrid('25');"><br>
      </div>   
      
  </div>  

  <div id="rightQuestionnaire">
      
    <div id="textQ5">
      <h2>&#8595; PLEASE SCROLL DOWN &#8595;</h2>
    </div>

    <div id="textQ6">
      <h2>From 1 to 10, how would you <span class="red">rate</span> it in terms of <span class="red">tension</span>?</h2>
      <div style="margin-left: -10%;">
        <p id="tensionValueRight"></p>
        <hr noshade width="50" size="2.5" style="margin-top: -3vh;">
      </div>
      <span class="slidecontainer"  id="tensionRight">
        <input type="range" min="1" max="10" value="1" class="slider" id="myRangeTensionRight">
      </span>
      <h2 style="color:gray; margin-left:-50vh; margin-top: 5vh;">Not Tense at All</h2>
      <h2 style="color:gray; margin-left: 50vh; margin-top: -4.5vh;">Extremely Tense</h2>
    </div>

    <div id="textQ7">
      <h2>In the grid below, place a <span class="red">cross</span> where it better represents  <span class="red">the way it makes you feel</span>.</h2>
    </div>

    <div id="textGridTop2"><b>High Arousal</b></div>
    <div id="textGridBottom2"><b>Sleepiness</b></div>
    <div id="textGridLeft2"><b>Unpleasant<br>Feelings</b></div>
    <div id="textGridRight2"><b>Pleasant<br>Feelings</b></div>
    <div id="textGridTopR2"><b>Excitement</b></div>
    <div id="textGridTopL2"><b>Stress</b></div>    
    <div id="textGridBottomR2"><b>Relaxation</b></div>
    <div id="textGridBottomL2"><b>Depression</b></div>

    <div id="affectGrid2">
      <input type="text" readonly class="gridCell" id="2_1" onclick="checkGrid2('1');">
      <input type="text" readonly class="gridCell" id="2_2" onclick="checkGrid2('2');">
      <input type="text" readonly class="gridCell" id="2_3" onclick="checkGrid2('3');">
      <input type="text" readonly class="gridCell" id="2_4" onclick="checkGrid2('4');">
      <input type="text" readonly class="gridCell" id="2_5" onclick="checkGrid2('5');"><br>
      <input type="text" readonly class="gridCell" id="2_6" onclick="checkGrid2('6');">
      <input type="text" readonly class="gridCell" id="2_7" onclick="checkGrid2('7');">
      <input type="text" readonly class="gridCell" id="2_8" onclick="checkGrid2('8');">
      <input type="text" readonly class="gridCell" id="2_9" onclick="checkGrid2('9');">
      <input type="text" readonly class="gridCell" id="2_10" onclick="checkGrid2('10');"><br>
      <input type="text" readonly class="gridCell" id="2_11" onclick="checkGrid2('11');">
      <input type="text" readonly class="gridCell" id="2_12" onclick="checkGrid2('12');">
      <input type="text" readonly class="gridCell" id="2_13" onclick="checkGrid2('13');">
      <input type="text" readonly class="gridCell" id="2_14" onclick="checkGrid2('14');">
      <input type="text" readonly class="gridCell" id="2_15" onclick="checkGrid2('15');"><br>
      <input type="text" readonly class="gridCell" id="2_16" onclick="checkGrid2('16');">
      <input type="text" readonly class="gridCell" id="2_17" onclick="checkGrid2('17');">
      <input type="text" readonly class="gridCell" id="2_18" onclick="checkGrid2('18');">
      <input type="text" readonly class="gridCell" id="2_19" onclick="checkGrid2('19');">
      <input type="text" readonly class="gridCell" id="2_20" onclick="checkGrid2('20');"><br>
      <input type="text" readonly class="gridCell" id="2_21" onclick="checkGrid2('21');">
      <input type="text" readonly class="gridCell" id="2_22" onclick="checkGrid2('22');">
      <input type="text" readonly class="gridCell" id="2_23" onclick="checkGrid2('23');">
      <input type="text" readonly class="gridCell" id="2_24" onclick="checkGrid2('24');">
      <input type="text" readonly class="gridCell" id="2_25" onclick="checkGrid2('25');"><br>
    </div>

    </div>

    <div id="textNext">
      <button class="custombutton3" id="testNext" onclick="chooseNextTest()">NEXT TEST!</button>
      <h3 id="lastTest">You have done all the tests! You may now click on any test and alter your answers if you wish.</h3>
      <button class="custombutton2" id="updateAnswers" onclick="updateAnswers()">SAVE ANSWERS</button>
      <h3 id="lastTest2">When you are done, please submit!</h3>
    </div>

      <!-- sliderCircular app container -->
      <div id="app"></div>
      <div id="app3"></div>

      <div id="app2"></div>
      <div id="app4"></div>

       <!-- FOR FULL TEST -->
      <div id="app5"></div>
      <div id="app6"></div>
      <div id="app7"></div>
      <div id="app8"></div>
      <div id="app9"></div>
      <div id="app10"></div>


  </main>

</body>
<script>

  var results = "";
  function sendEmail() {
    var currentdate = new Date(); 
    var datetime = currentdate.getDate() + "/"
                        + (currentdate.getMonth()+1)  + "/" 
                        + currentdate.getFullYear() + " @ "  
                        + currentdate.getHours() + ":"  
                        + currentdate.getMinutes() + ":" 
                        + currentdate.getSeconds();
    results += window.localStorage.getItem('testResults');
    Email.send({
      Host : "smtp.elasticemail.com",
      Username : "andreianogueiramatos@gmail.com",
      Password : "BAAD2F5FEB57CF4B821B28A42169F24D8782",
      To : 'andreianmatos@tecnico.ulisboa.pt',
      From : "andreianogueiramatos@gmail.com",
      Subject : "RESULTS | " + datetime,
      Body : results
  }).then(
      message => alert(message)
    );
  }
</script>

</html>